# =============================================================================
# Veralux Receptionist - Environment Configuration
# =============================================================================
# Copy this file to .env and update the values below.
# IMPORTANT: Never commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Deployment Version & Registry
# -----------------------------------------------------------------------------
VERSION=latest
REGISTRY=ghcr.io/nick-veraluxai

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
POSTGRES_USER=veralux
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
POSTGRES_DB=veralux

# -----------------------------------------------------------------------------
# Application Security
# -----------------------------------------------------------------------------
# Generate a secure secret: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_GENERATE_SECURE_SECRET

# -----------------------------------------------------------------------------
# Application URLs
# -----------------------------------------------------------------------------
# Base URL where the application is accessible (used for callbacks, links, etc.)
BASE_URL=http://localhost:8080

# -----------------------------------------------------------------------------
# Port Configuration (change if ports conflict)
# -----------------------------------------------------------------------------
CONTROL_PORT=4000
RUNTIME_PORT=4001
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# GPU Services Configuration (Optional)
# Enable GPU services with: docker compose --profile gpu up
# -----------------------------------------------------------------------------

# Whisper (Speech-to-Text)
WHISPER_PORT=9000
WHISPER_MODEL_SIZE=base

# Kokoro (Voice Synthesis)
KOKORO_PORT=7001
KOKORO_VOICE_ID=default

# XTTS (Text-to-Speech)
XTTS_PORT=7002
XTTS_LANGUAGE=en

# -----------------------------------------------------------------------------
# Telnyx Configuration (Required for Voice Runtime)
# -----------------------------------------------------------------------------
TELNYX_API_KEY=CHANGE_ME
TELNYX_PUBLIC_KEY=CHANGE_ME

# -----------------------------------------------------------------------------
# Runtime URLs (Required)
# -----------------------------------------------------------------------------
# Public URL where the runtime is accessible (for webhooks)
PUBLIC_BASE_URL=https://your-domain.com
# Public URL for audio file access
AUDIO_PUBLIC_BASE_URL=https://your-domain.com/audio

# -----------------------------------------------------------------------------
# Media/Audio Configuration
# -----------------------------------------------------------------------------
# Token for authenticating media stream connections
MEDIA_STREAM_TOKEN=CHANGE_ME_GENERATE_SECURE_TOKEN
AUDIO_STORAGE_DIR=/app/audio

# -----------------------------------------------------------------------------
# Speech-to-Text Settings
# -----------------------------------------------------------------------------
STT_CHUNK_MS=100
STT_SILENCE_MS=700
DEAD_AIR_MS=10000

# -----------------------------------------------------------------------------
# Rate Limiting / Capacity
# -----------------------------------------------------------------------------
GLOBAL_CONCURRENCY_CAP=100
TENANT_CONCURRENCY_CAP_DEFAULT=10
TENANT_CALLS_PER_MIN_CAP_DEFAULT=60
CAPACITY_TTL_SECONDS=3600

# -----------------------------------------------------------------------------
# Advanced Configuration (usually don't need to change)
# -----------------------------------------------------------------------------
# REDIS_URL=redis://redis:6379
# DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# Ngrok (for tunneling - get token from https://dashboard.ngrok.com)
NGROK_AUTHTOKEN=

# Cloudflare Tunnel (recommended - get token from Zero Trust dashboard)
# Go to: Zero Trust → Networks → Tunnels → Create tunnel → Copy token
CLOUDFLARE_TUNNEL_TOKEN=
